{"ast":null,"code":"import React,{useState}from'react';import{csv}from'd3-fetch';import{LineChart,ResponsiveContainer,Legend,Tooltip,Line,XAxis,YAxis,CartesianGrid}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PreviousData=_ref=>{let{selectedMarker}=_ref;const[data,setData]=React.useState([]);const[days,setDays]=useState(30);// default to 30 days\nReact.useEffect(()=>{csv('/methane-data.csv').then(data=>{setData(data);});},[]);const chartData=data.slice(-days).map(row=>({date:row['Date'],methaneEmissions:parseFloat(row[selectedMarker.name])}));const maxMethaneEmissions=Math.max(...chartData.map(row=>row.methaneEmissions));const minMethaneEmissions=Math.min(...chartData.map(row=>row.methaneEmissions));const meanMethaneEmissions=chartData.reduce((acc,row)=>acc+row.methaneEmissions,0)/chartData.length;console.log(\"Chart data: \",chartData);console.log(\"Max methane emissions: \",maxMethaneEmissions);console.log(\"Min methane emissions: \",minMethaneEmissions);console.log(\"Mean methane emissions: \",meanMethaneEmissions);const handleDaysChange=event=>{setDays(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full px-[2.5em] py-[1em]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsxs(\"select\",{value:days,onChange:handleDaysChange,className:\"bg-accent border-[1px] border-[#979696]  rounded-[5px] py-[3px] px-[10px] text-secondary mb-[1em]\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"7 days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30\",children:\"30 days\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",aspect:2,children:/*#__PURE__*/_jsxs(LineChart,{data:chartData,children:[/*#__PURE__*/_jsx(CartesianGrid,{}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",interval:\"preserveStartEnd\",tick:{fontSize:10,angle:-90,dy:10}}),/*#__PURE__*/_jsx(YAxis,{label:{value:'',angle:-90,fontSize:14},tick:{fontSize:14}}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Line,{dataKey:\"methaneEmissions\",stroke:\"black\",activeDot:{r:0}})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-[14px] font-[300] py-[1em]\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary font-[600] pr-[0.5em]\",children:\"Maximum methane emissions: \"}),\" \",maxMethaneEmissions.toFixed(2),\" ppb\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary font-[600] pr-[0.5em]\",children:\"Minimum methane emissions: \"}),\" \",minMethaneEmissions.toFixed(2),\" ppb\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary font-[600] pr-[0.5em]\",children:\"Average methane emissions: \"}),\" \",meanMethaneEmissions.toFixed(2),\" ppb\"]})})]});};export default PreviousData;","map":{"version":3,"names":["React","useState","csv","LineChart","ResponsiveContainer","Legend","Tooltip","Line","XAxis","YAxis","CartesianGrid","jsx","_jsx","jsxs","_jsxs","PreviousData","_ref","selectedMarker","data","setData","days","setDays","useEffect","then","chartData","slice","map","row","date","methaneEmissions","parseFloat","name","maxMethaneEmissions","Math","max","minMethaneEmissions","min","meanMethaneEmissions","reduce","acc","length","console","log","handleDaysChange","event","target","value","className","children","onChange","width","aspect","dataKey","interval","tick","fontSize","angle","dy","label","stroke","activeDot","r","toFixed"],"sources":["/Users/lakshkumar/Documents/GitHub/laksh/src/components/PreviousData.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { csv } from 'd3-fetch';\nimport {\n  LineChart,\n  ResponsiveContainer,\n  Legend,\n  Tooltip,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n} from \"recharts\";\n\nconst PreviousData = ({ selectedMarker }) => {\n  const [data, setData] = React.useState([]);\n  const [days, setDays] = useState(30); // default to 30 days\n\n  React.useEffect(() => {\n    csv('/methane-data.csv').then((data) => {\n      setData(data);\n    });\n  }, []);\n\n  const chartData = data.slice(-days).map((row) => ({\n    date: row['Date'],\n    methaneEmissions: parseFloat(row[selectedMarker.name]),\n  }));\n\n  const maxMethaneEmissions = Math.max(...chartData.map((row) => row.methaneEmissions));\n  const minMethaneEmissions = Math.min(...chartData.map((row) => row.methaneEmissions));\n  const meanMethaneEmissions = chartData.reduce((acc, row) => acc + row.methaneEmissions, 0) / chartData.length;\n\n  console.log(\"Chart data: \", chartData);\n  console.log(\"Max methane emissions: \", maxMethaneEmissions);\n  console.log(\"Min methane emissions: \", minMethaneEmissions);\n  console.log(\"Mean methane emissions: \", meanMethaneEmissions);\n\n  const handleDaysChange = (event) => {\n    setDays(event.target.value);\n  };\n\n  return (\n    <div className='w-full px-[2.5em] py-[1em]'>\n        <div className='flex justify-center'>\n      <select value={days} onChange={handleDaysChange} className='bg-accent border-[1px] border-[#979696]  rounded-[5px] py-[3px] px-[10px] text-secondary mb-[1em]'>\n        <option value=\"7\">7 days</option>\n        <option value=\"30\">30 days</option>\n      </select>\n      </div>\n      <div className='flex flex-col'>\n      <ResponsiveContainer width=\"100%\" aspect={2}>\n        <LineChart data={chartData} >\n          <CartesianGrid />\n          <XAxis dataKey=\"date\" interval={\"preserveStartEnd\"} tick={{ fontSize: 10, angle:-90, dy: 10  }}  />\n<YAxis label={{ value: '', angle: -90, fontSize: 14 }} tick={{ fontSize: 14, }} />\n          <Tooltip />\n          <Line\n            dataKey=\"methaneEmissions\"\n            stroke=\"black\"\n            activeDot={{ r: 0 }}\n          />\n        </LineChart>\n      </ResponsiveContainer>\n      </div>\n      <div>\n      <p className='text-[14px] font-[300] py-[1em]'>\n      <span className='text-secondary font-[600] pr-[0.5em]'>Maximum methane emissions: </span> {maxMethaneEmissions.toFixed(2)} ppb<br/>\n      <span className='text-secondary font-[600] pr-[0.5em]'>Minimum methane emissions: </span> {minMethaneEmissions.toFixed(2)} ppb<br/>\n      <span className='text-secondary font-[600] pr-[0.5em]'>Average methane emissions: </span> {meanMethaneEmissions.toFixed(2)} ppb\n      </p>\n\n      </div>\n    </div>\n  );\n};\n\nexport default PreviousData;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}